"use strict";(self.webpackChunkreform=self.webpackChunkreform||[]).push([[303],{3303:(y,h,a)=>{a.r(h),a.d(h,{AuthLayoutModule:()=>C});var m=a(9808),i=a(2382),e=a(1223),d=a(3320),p=a(7877),f=a(2290),l=a(1925),Z=a(434);function v(t,s){1&t&&(e.TgZ(0,"small",14),e.O4$(),e.TgZ(1,"svg",15),e._UZ(2,"path",16),e.qZA(),e._uU(3," Email is required! "),e.qZA())}function _(t,s){1&t&&(e.TgZ(0,"small",14),e.O4$(),e.TgZ(1,"svg",15),e._UZ(2,"path",16),e.qZA(),e._uU(3," Enter correct email "),e.qZA())}function T(t,s){1&t&&(e.TgZ(0,"small",14),e.O4$(),e.TgZ(1,"svg",15),e._UZ(2,"path",16),e.qZA(),e._uU(3," Password is required! "),e.qZA())}function F(t,s){1&t&&(e.TgZ(0,"small",14),e.O4$(),e.TgZ(1,"svg",15),e._UZ(2,"path",16),e.qZA(),e._uU(3," Password must min 8 characters "),e.qZA())}function q(t,s){1&t&&(e.TgZ(0,"small",20),e.O4$(),e.TgZ(1,"svg",21),e._UZ(2,"path",22),e.qZA(),e._uU(3," First name is required "),e.qZA())}function w(t,s){1&t&&(e.TgZ(0,"small",20),e.O4$(),e.TgZ(1,"svg",21),e._UZ(2,"path",22),e.qZA(),e._uU(3," First name must min 2 characters "),e.qZA())}function A(t,s){1&t&&(e.TgZ(0,"small",20),e.O4$(),e.TgZ(1,"svg",21),e._UZ(2,"path",22),e.qZA(),e._uU(3," Last name is required "),e.qZA())}function S(t,s){1&t&&(e.TgZ(0,"small",20),e.O4$(),e.TgZ(1,"svg",21),e._UZ(2,"path",22),e.qZA(),e._uU(3," Last name must min 2 characters "),e.qZA())}function N(t,s){1&t&&(e.TgZ(0,"small",20),e.O4$(),e.TgZ(1,"svg",21),e._UZ(2,"path",22),e.qZA(),e._uU(3," Email is required! "),e.qZA())}function b(t,s){1&t&&(e.TgZ(0,"small",20),e.O4$(),e.TgZ(1,"svg",21),e._UZ(2,"path",22),e.qZA(),e._uU(3," Enter correct email "),e.qZA())}function x(t,s){1&t&&(e.TgZ(0,"small",20),e.O4$(),e.TgZ(1,"svg",21),e._UZ(2,"path",22),e.qZA(),e._uU(3," Password is required! "),e.qZA())}function E(t,s){1&t&&(e.TgZ(0,"small",20),e.O4$(),e.TgZ(1,"svg",21),e._UZ(2,"path",22),e.qZA(),e._uU(3," Password must min 8 characters "),e.qZA())}const L=[{path:"login",component:(()=>{class t{constructor(o,r,n,g,u,c){this.userService=o,this.formBuilder=r,this.authService=n,this.toastrService=g,this.router=u,this.localStorageService=c}ngOnInit(){this.isLogin()?"admin@reform.com"==this.localStorageService.getUser().email?this.router.navigate(["admin"]):this.router.navigate(["workspace"]):localStorage.clear(),this.createLoginForm()}createLoginForm(){this.loginForm=this.formBuilder.group({email:[null,[i.kI.required,i.kI.email]],password:[null,i.kI.required]})}login(){if(this.loginForm.valid){let o=Object.assign({},this.loginForm.value);this.authService.login(o).subscribe(r=>{this.localStorageService.setToken(r.data.token),this.setUserByEmail(this.loginForm.value.email),this.router.navigate(["workspace"])},r=>{this.toastrService.error(r.error)})}}isLogin(){return this.localStorageService.getToken()}setUserByEmail(o){this.userService.getUserByEmail(o).subscribe(r=>{this.localStorageService.setUser(r.data),this.router.navigate("admin@reform.com"==r.data.email?["admin"]:["workspace"])})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(d.K),e.Y36(i.qu),e.Y36(p.e),e.Y36(f._W),e.Y36(l.F0),e.Y36(Z.n))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:26,vars:5,consts:[[1,"bg-light","vh-100"],[1,"row","g-3","container","position-absolute","top-50","start-50","translate-middle",2,"width","100%","max-width","350px",3,"formGroup","ngSubmit"],["href","",1,"text-decoration-none","link-dark","text-center",2,"font-weight","700","font-size","28px"],[1,"h5","mt-3","mb-3","px-0","fw-normal","text-center"],[1,"col-12"],["for","inputEmail",1,"form-label"],["formControlName","email","type","email","id","inputEmail","placeholder","name@example.com",1,"form-control",2,"font-size","14px"],["class","help-block text-danger d-flex align-items-center mt-1",4,"ngIf"],["for","inputPassword",1,"form-label"],["formControlName","password","type","password","id","inputPassword","placeholder","Enter characters",1,"form-control",2,"font-size","14px"],[1,"form-text","pt-1","text-dark"],["routerLink","/register",1,"link-dark"],[1,"d-grid","mt-4"],[1,"btn","btn-dark"],[1,"help-block","text-danger","d-flex","align-items-center","mt-1"],["xmlns","http://www.w3.org/2000/svg","height","16px","viewBox","0 0 24 24","width","16px","fill","#dc3545",1,"me-1"],["d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return r.login()}),e.TgZ(2,"a",2),e._uU(3,"ReForm"),e.qZA(),e.TgZ(4,"h1",3),e._uU(5," Hello, nice to see you! "),e.qZA(),e.TgZ(6,"div",4)(7,"label",5),e._uU(8,"Email"),e.qZA(),e._UZ(9,"input",6),e.YNc(10,v,4,0,"small",7),e.YNc(11,_,4,0,"small",7),e.qZA(),e.TgZ(12,"div",4)(13,"label",8),e._uU(14,"Password"),e.qZA(),e._UZ(15,"input",9),e.YNc(16,T,4,0,"small",7),e.YNc(17,F,4,0,"small",7),e.qZA(),e.TgZ(18,"div",10),e._uU(19," Don't have an account? "),e.TgZ(20,"span")(21,"a",11),e._uU(22,"Sign up."),e.qZA()()(),e.TgZ(23,"div",12)(24,"button",13),e._uU(25,"Log in to ReForm"),e.qZA()()()()),2&o&&(e.xp6(1),e.Q6J("formGroup",r.loginForm),e.xp6(9),e.Q6J("ngIf",r.loginForm.get("email").hasError("required")&&r.loginForm.get("email").touched),e.xp6(1),e.Q6J("ngIf",r.loginForm.get("email").hasError("email")&&r.loginForm.get("email").touched),e.xp6(5),e.Q6J("ngIf",r.loginForm.get("password").hasError("required")&&r.loginForm.get("password").touched),e.xp6(1),e.Q6J("ngIf",r.loginForm.get("password").hasError("minlength")&&r.loginForm.get("password").touched))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,m.O5,l.yS],styles:[".background[_ngcontent-%COMP%]{background:#1e5f74;background:radial-gradient(circle,#1e5f74 0%,#133b5c 70%,#1d2d50 100%)}"]}),t})()},{path:"register",component:(()=>{class t{constructor(o,r,n,g,u,c){this.userService=o,this.formBuilder=r,this.authService=n,this.toastrService=g,this.router=u,this.localStorageService=c}ngOnInit(){this.isLogin()?this.router.navigate(["workspace"]):(localStorage.clear(),this.createRegisterForm())}createRegisterForm(){this.registerForm=this.formBuilder.group({firstName:[null,[i.kI.required,i.kI.minLength(2)]],lastName:[null,[i.kI.required,i.kI.minLength(2)]],email:[null,[i.kI.required,i.kI.email]],password:[null,[i.kI.required,i.kI.minLength(8)]]})}register(){if(this.registerForm.valid){let o=Object.assign({},this.registerForm.value);this.authService.register(o).subscribe(r=>{this.localStorageService.setToken(r.data.token),this.setUserByEmail(this.registerForm.value.email),this.router.navigate(["workspace"])},r=>{this.toastrService.error(r.error)})}else this.isEnterEmail(),this.isEnterLastName()}setUserByEmail(o){this.userService.getUserByEmail(o).subscribe(r=>{this.localStorageService.setUser(r.data)})}isLogin(){return this.localStorageService.getToken()}isEnterFirstName(){this.registerForm.value.lastName||this.toastrService.error("First Name, enter min 2 characters!")}isEnterLastName(){this.registerForm.get("lastName").hasError("required")?this.toastrService.error("Last Name, enter"):this.registerForm.get("lastName").hasError("minlength")&&this.toastrService.error("Last Name, enter min 2 characters!")}isEnterEmail(){this.registerForm.get("email").hasError("required")?this.toastrService.error("Email, enter correct email!"):this.registerForm.get("email").hasError("email")&&this.toastrService.error("Email, enter corrsect email!")}isEnterPassword(){this.registerForm.value.password.valid||this.toastrService.error("Password, enter min 8 characters!")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(d.K),e.Y36(i.qu),e.Y36(p.e),e.Y36(f._W),e.Y36(l.F0),e.Y36(Z.n))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:48,vars:10,consts:[[1,"bg-light","vh-100"],[1,"row","g-3","container","position-absolute","top-50","start-50","translate-middle","needs-validation",2,"width","100%","max-width","350px",3,"formGroup","ngSubmit"],["href","",1,"text-decoration-none","link-dark","text-center",2,"font-weight","700","font-size","28px"],[1,"h5","mt-3","mb-3","px-0","fw-normal","text-center"],[1,"col-12"],["for","inputFirstName",1,"form-label"],[1,"fw-bolder","text-danger"],["formControlName","firstName","type","text","id","inputFirstName","placeholder","First Name",1,"form-control",2,"font-size","14px"],["class","help-block text-danger d-flex align-items-center mt-1",4,"ngIf"],[1,"col-12","mt-2"],["for","inputLastName",1,"form-label"],["formControlName","lastName","type","text","id","inputLastName","placeholder","Last Name",1,"form-control",2,"font-size","14px"],["for","inputEmail",1,"form-label"],["formControlName","email","type","email","id","inputEmail","placeholder","name@example.com",1,"form-control",2,"font-size","14px"],["for","inputPassword",1,"form-label"],["formControlName","password","type","password","id","inputPassword","placeholder","Enter characters",1,"form-control",2,"font-size","14px"],[1,"form-text","pt-1","text-dark"],["routerLink","/login",1,"link-dark"],[1,"d-grid","mt-4"],["type","submit",1,"btn","btn-dark",3,"disabled"],[1,"help-block","text-danger","d-flex","align-items-center","mt-1"],["xmlns","http://www.w3.org/2000/svg","height","16px","viewBox","0 0 24 24","width","16px","fill","#dc3545",1,"me-1"],["d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return r.register()}),e.TgZ(2,"a",2),e._uU(3,"ReForm"),e.qZA(),e.TgZ(4,"h1",3),e._uU(5,"Get started!"),e._UZ(6,"br"),e._uU(7,"Create a form now."),e.qZA(),e.TgZ(8,"div",4)(9,"label",5),e._uU(10,"First Name "),e.TgZ(11,"span",6),e._uU(12,"*"),e.qZA()(),e._UZ(13,"input",7),e.YNc(14,q,4,0,"small",8),e.YNc(15,w,4,0,"small",8),e.qZA(),e.TgZ(16,"div",9)(17,"label",10),e._uU(18,"Last Name "),e.TgZ(19,"span",6),e._uU(20,"*"),e.qZA()(),e._UZ(21,"input",11),e.YNc(22,A,4,0,"small",8),e.YNc(23,S,4,0,"small",8),e.qZA(),e.TgZ(24,"div",9)(25,"label",12),e._uU(26,"Email "),e.TgZ(27,"span",6),e._uU(28,"*"),e.qZA()(),e._UZ(29,"input",13),e.YNc(30,N,4,0,"small",8),e.YNc(31,b,4,0,"small",8),e.qZA(),e.TgZ(32,"div",9)(33,"label",14),e._uU(34,"Password "),e.TgZ(35,"span",6),e._uU(36,"*"),e.qZA()(),e._UZ(37,"input",15),e.YNc(38,x,4,0,"small",8),e.YNc(39,E,4,0,"small",8),e.qZA(),e.TgZ(40,"div",16),e._uU(41,"Do you have an account? "),e.TgZ(42,"span")(43,"a",17),e._uU(44,"Log in."),e.qZA()()(),e.TgZ(45,"div",18)(46,"button",19),e._uU(47,"Create my ReForm account"),e.qZA()()()()),2&o&&(e.xp6(1),e.Q6J("formGroup",r.registerForm),e.xp6(13),e.Q6J("ngIf",r.registerForm.get("firstName").hasError("required")&&r.registerForm.get("firstName").touched),e.xp6(1),e.Q6J("ngIf",r.registerForm.get("firstName").hasError("minlength")&&r.registerForm.get("firstName").touched),e.xp6(7),e.Q6J("ngIf",r.registerForm.get("lastName").hasError("required")&&r.registerForm.get("lastName").touched),e.xp6(1),e.Q6J("ngIf",r.registerForm.get("lastName").hasError("minlength")&&r.registerForm.get("lastName").touched),e.xp6(7),e.Q6J("ngIf",r.registerForm.get("email").hasError("required")&&r.registerForm.get("email").touched),e.xp6(1),e.Q6J("ngIf",r.registerForm.get("email").hasError("email")&&r.registerForm.get("email").touched),e.xp6(7),e.Q6J("ngIf",r.registerForm.get("password").hasError("required")&&r.registerForm.get("password").touched),e.xp6(1),e.Q6J("ngIf",r.registerForm.get("password").hasError("minlength")&&r.registerForm.get("password").touched),e.xp6(7),e.Q6J("disabled",!r.registerForm.valid))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,m.O5,l.yS],styles:[""]}),t})()}];let k=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.ez,i.u5,i.UX,l.Bz],i.u5,i.UX,l.Bz]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.ez,k,l.Bz.forChild(L)]]}),t})()}}]);